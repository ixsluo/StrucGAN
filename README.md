# StrucGAN
The Python package for generation cluster or molecular structure using Wasserstein Generative Adversarial Network (WGAN), 
which use wasserstrin distence to measure the similarity of original distribution and the distribution generated by generative network.  
The most important step in StrucGAN is coding and decoding strucrure.  
In StrucGAN, the cluster structure with some atoms localized at voxels, where each atoms are extended to fill other nearby voxels with a gaussian function. If atoms localized on the boundary of two voxels, it will be moved to one voxel by distance.



## Usage

### Supposing the environment variable StrucGANPath=${HOME}/StrucGAN

### Step1: Installing libganstruc
Entering Dir ${StrucGANPath}/GANStrucDeal, running command 
```bash
python setup.py install
```
to install the package in your machine  

### Step2: Structure encoding, and generating struc.h5 file for training wGAN by script ${StrucGANPath}/tools/gan_deal_struc.py
```bash
python gan_deal_struc.py --xyz2hd5 --xyzpath=Your Dir contains structure files in xyz format
```
and then copy struc.h5 to Dir ${StrucGANPath}/wGAN

### Step3: Training WGAN
in Dir ${StrucGANPath}/wGAN
```bash
nohup python main.py --cuda 
```

### Step4: Generating Structure by WGAN
copy the latest GAN model's parameter file netG_epoch_*.pth in Dir ${StrucGANPath}/samples to Dir ${StrucGANPath}/sampling and entering ${StrucGANPath}/sampling  
```bash
python main.py --netG=netG_epoch_*.pth
```

### Step5: Decoding structures form struc.h5 file
in Dir ${StrucGANPath}/sampling
```bash
python gan_deal_struc.py --hd52xyz
```
